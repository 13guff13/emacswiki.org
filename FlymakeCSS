Get http://www.w3.org/QA/Tools/css-validator/css-validator.jar create a directory named 'lib' in the same directory.
Copy to the 'lib' dir the following jars:

* commons-collections-3.2.1.jar
* jigsaw.jar                  
* velocity-1.6.1.jar           
* xml-apis.jar
* commons-lang-2.4.jar          
* tagsoup-1.2.jar              
* xercesImpl.jar

From:

* http://jigsaw.w3.org/Distrib/jigsaw_2.2.6.tar.gz
* http://www.apache.org/dist/commons/collections/binaries/commons-collections-3.2.1-bin.tar.gz
* http://www.apache.org/dist/commons/lang/binaries/commons-lang-2.4-bin.tar.gz or http://www.java2s.com/Code/JarDownload/commons-lang-2.4.jar.zip
* http://archive.apache.org/dist/velocity/engine/1.6.1/velocity-1.6.1.tar.gz
* http://www.apache.org/dist/xerces/j/Xerces-J-bin.2.9.1.tar.gz or http://www.java2s.com/Code/JarDownload/xercesImpl.jar.zip
* http://home.ccil.org/~cowan/XML/tagsoup/tagsoup-1.2.jar
* http://www.java2s.com/Code/JarDownload/xml-apis.jar.zip

Test validating some CSS file by running:

    java -jar css-validator.jar file:somecssfile.css

If it works, add this to a suitable place loaded by emacs:
{{{
;; Edit this
(defconst css-validator "java -jar ~/bin/css-validator.jar")

(defun flymake-css-init ()
  (let* ((temp-file   (flymake-init-create-temp-buffer-copy
                       'flymake-create-temp-inplace))
         (local-file  (file-relative-name
                       temp-file
                       (file-name-directory buffer-file-name))))
    (list css-validator (list "-output gnu" (concat "file:" local-file)))))

(push '(".+\\.css$" flymake-css-init) flymake-allowed-file-name-masks)

(push '("^file:\\([^:]+\\):\\([^:]+\\):\\(.*\\)" 1 2 nil 3) flymake-err-line-patterns)
}}}

Hope it worked out for you   &mdash;[[AntonJohansson]]

----

Thanks for this concise and complete tutorial on *installing the W3 CSS Validator.*  It took me about 10 minutes to install it, following these instructions :)

One note though: on *Windows,* I had trouble with

   (defconst css-validator "java -jar ~/path/to/css-validator.jar")

It appears that perhaps Java does not like all the arguments being passed as a single string[https://www.projectcaroline.net/main/index.php?q=node/208].  Maybe this is a Windows-specific thing?  

Anyway I wound up leaving out the line above.  Instead, I changed the last line of the first stanza of the config as follows:

    (defun flymake-css-init ()
      (let* ((temp-file   (flymake-init-create-temp-buffer-copy
                           'flymake-create-temp-inplace))
             (local-file  (file-relative-name
                           temp-file
                           (file-name-directory buffer-file-name))))
        ;; Edit this line
        (list "java" (list "-jar" "c:/path/to/css-validator.jar" "-output" "gnu" (concat "file:" local-file)))))

Otherwise everything worked perfectly, thanks again.  &mdash;[[NoahSussman]]

[new:NoahSussman:2009-09-11 04:07 UTC]

----
cssutils

If you don't want to use the W3C validator (maybe you just don't want to install Java on your 4GB netbook), you can use a Python module named cssutils.

Install cssutils with pip or easy_install and add this to your config:

    (defun flymake-css-init ()
      (let* ((temp-file (flymake-init-create-temp-buffer-copy
                         'flymake-create-temp-inplace))
             (local-file (file-relative-name
                          temp-file
                          (file-name-directory buffer-file-name))))
        (list "cssparse" (list local-file))))
    (add-to-list 'flymake-allowed-file-name-masks
                 '("\\.css$" flymake-css-init))
    (add-to-list 'flymake-err-line-patterns
                 '("\\(.*\\) \\[\\([0-9]+\\):\\([0-9]+\\): \\(.*\\)\\]"
                   nil 2 3 1))
    (add-hook 'css-mode-hook
              (lambda () (flymake-mode t)))

----
FlyMake
