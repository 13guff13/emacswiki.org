

== Library Information ==
/org-readme.el/ --- Integrates Readme.org and Commentary/Change-logs.

* <b>Filename </b> --  [[org-readme.el]]
* <b>Description </b> --  Integrate Readme.org and Commentary/Change Logs.
* <b>Author </b> --  Matthew L. Fidler
* <b>Maintainer </b> --  Matthew L. Fidler
* <b>Created </b> --  Fri Aug  3 22:33:41 2012 (-0500)
* <b>Version </b> --  0.34
* <b>Package-Requires </b> --  ((http-post-simple "1.0") (yaoddmuse "0.1.1")(header2 "21.0") (lib-requires "21.0"))
* <b>Last-Updated </b> --  Wed Aug 22 13:11:26 2012 (-0500)
* <b>By </b> --  Matthew L. Fidler
* <b>Update # </b> --  794
* <B>URL </B> --  https://github.com/mlf176f2/org-readme
* <b>Keywords </b> --  Header2, Readme.org, Emacswiki, Git
* <b>Compatibility </b> --  Tested with Emacs 24.1 on Windows.

== Possible Dependencies ==

None

== Using org-readme ==
Org readme is used to:

* Create/Update a "History" section in the Readme.org based on the changelog
section of the Emacs Log.
* Create/Update a "Library Information" Section Based on the Emacs lisp header.
* Create/Update a "Possible Dependencies" Section Based on the Emacs
lisp header.
* Create/Update a "Functions" Section based on the functions defined
in the single lisp library.
* Create/Update a "Variables" Section based on the variables defined
in the single lisp library.

All other sections of the Readme.org are then put into the
"Commentary" section of the readme.org.

In addition this library defines <tt>org-readme-sync</tt>,  a convenience function that:

* Asks for a commentary about the library change.
* To exit/save press <tt>C-c C-c</tt>
* Asks if this is a minor revision
* If it is a minor revision, bumps the revision up so the new
library will be posted to marmalade-repo.org
* Syncs the Readme.org with the lisp file as described above.
* Updates emacswiki with the library description and the library
itself (requires yaoddmuse).
* Updates Marmalade-repo if the library version is different than the
version in the server (requires http-post-simple).
* Updates the git repository with the differences that you posted.
* If you are using github, this library creates a melpa recipie.
* If you are using github, this library creates a el-get recipie. 

When <tt>org-readme-sync</tt> is called in a <tt>Readme.org</tt> file that is not a
single lisp file, the function exports the readme in !EmacsWiki format
and posts it to the !EmacsWiki.
=== EmacsWiki Page Names ===
!EmacsWiki Page names are generated from the file.  <tt>org-readme.el</tt>
would generate a page of !OrgReadme.

=== Why each required library is needed ===
There are a few required libraries.  This is a list of the require
libraries and why they are needed.

|| Library          || Why it is needed                     ||
|| yaoddmuse        || Publish to emacswiki                 ||
|| http-post-simple || Publish to marmalade-repo.org        ||
|| header2          || To create header and changelog       ||
|| lib-requires     || To generate the library dependencies ||

== Functions ==
=== Interactive Functions ===

==== org-readme-changelog-to-readme ====
<tt>(org-readme-changelog-to-readme)</tt>

This puts the emacs lisp change-log into the Readme.org file.

==== org-readme-convert-to-emacswiki ====
<tt>(org-readme-convert-to-emacswiki)</tt>

Converts Readme.org to oddmuse markup and uploads to emacswiki.

==== org-readme-convert-to-markdown ====
<tt>(org-readme-convert-to-markdown)</tt>

Converts Readme.org to markdown Readme.md.

==== org-readme-edit ====
<tt>(org-readme-edit)</tt>

Edit change comment for commit.

==== org-readme-edit-cancel ====
<tt>(org-readme-edit-cancel)</tt>

Cancel the edit log.

==== org-readme-edit-commit ====
<tt>(org-readme-edit-commit)</tt>

Changelog for editing.

==== org-readme-git ====
<tt>(org-readme-git)</tt>

Add The files to git.

==== org-readme-insert-variables ====
<tt>(org-readme-insert-variables)</tt>

Extracts variable documentation and places it in the Readme.org file.

==== org-readme-marmalade-post ====
<tt>(org-readme-marmalade-post)</tt>

Posts the current buffer to Marmalade.

==== org-readme-sync ====
<tt>(org-readme-sync &optional COMMENT-ADDED)</tt>

Syncs Readme.org with current buffer.
When COMMENT-ADDED is non-nil, the comment has been added and the syncing should begin.


==== org-readme-to-commentary ====
<tt>(org-readme-to-commentary)</tt>

Change Readme.org to a Commentary section.

==== org-readme-top-header-to-readme ====
<tt>(org-readme-top-header-to-readme)</tt>

This puts the top header into the Readme.org file as Library Information

=== Internal Functions ===

==== org-readme-buffer-version ====
<tt>(org-readme-buffer-version)</tt>

Gets the version of the current buffer.

==== org-readme-build-el-get ====
<tt>(org-readme-build-el-get)</tt>

Builds an el-get recipe. This assumes github, though others could be added.
Returns file name if created.

==== org-readme-build-melpa ====
<tt>(org-readme-build-melpa)</tt>

Builds a melpa recipe. This assumes github, though other could be added.
Returns file name if created.

==== org-readme-find-readme ====
<tt>(org-readme-find-readme)</tt>

Find the Readme.org.

==== org-readme-get-change ====
<tt>(org-readme-get-change)</tt>

Get file for changelog commits.

==== org-readme-get-emacswiki-name ====
<tt>(org-readme-get-emacswiki-name)</tt>

Gets emacswiki-style name based on buffer.

==== org-readme-in-readme-org-p ====
<tt>(org-readme-in-readme-org-p)</tt>

Determine if the currently open buffer is the Readme.org

==== org-readme-insert-functions ====
<tt>(org-readme-insert-functions)</tt>

Extracts function documentation and places it in the Readme.org file.

==== org-readme-marmalade-version ====
<tt>(org-readme-marmalade-version PACKAGE)</tt>

Gets the marmalade version of the PACKAGE.

==== org-readme-remove-section ====
=(org-readme-remove-section SECTION &optional TXT ANY-LEVEL
AT-BEGINNING)=

Remove <tt>org-mode</tt> SECTION. Optionally insert TXT.
When ANY-LEVEL is non-nil, any level may be specified.
When AT-BEGINNING is non-nil, if the section is not found, insert it at the beginning.

==== org-readme-single-lisp-p ====
<tt>(org-readme-single-lisp-p)</tt>

Determine if the Readme.org is in a directory with a single lisp file.
If so, return the name of that lisp file, otherwise return nil.

==== org-readme-token ====
<tt>(org-readme-token)</tt>

Gets marmalade-token, if not already saved.
== Variables ==
=== Customizable Variables ===

==== org-readme-add-changelog-to-readme ====
Add a Variables section to Readme.org

==== org-readme-add-functions-to-readme ====
Add a Functions section to Readme.org

==== org-readme-add-top-header-to-readme ====
Add Top Header information to Readme.org

==== org-readme-add-variables-to-readme ====
Add a Variables section to Readme.org

==== org-readme-build-el-get-recipe ====
Builds a el-get recipe based on github information

==== org-readme-build-markdown ====
Builds Readme.md from Readme.org

==== org-readme-build-melpa-recipe ====
Builds a melpa recipe based on github information

==== org-readme-build-texi ====
Builds library-name.texi from Readme.org, using Readme.md and pandoc.  Requires <tt>org-readme-build-markdown</tt> to be non-nil as pandoc to be found.

==== org-readme-default-template ====
Default template for blank Readme.org Files. LIB-NAME is replaced with the library.

==== org-readme-drop-markdown-after-build-texi ====
Removes Readme.md after texinfo is generated

==== org-readme-marmalade-server ====
Marmalade server website.  This should start with http: and should notend with a trailing forward slash, just like the default value of http://marmalade-repo.org

==== org-readme-marmalade-token ====
Marmalade token to upload content to the marmalade server.

==== org-readme-marmalade-user-name ====
Marmalade user name to upload content to the marmalade server.

==== org-readme-remove-sections ====
List of sections to remove when changing the Readme.org to Commentary.

==== org-readme-remove-sections-from-markdown ====
List of sections to remove when changing the Readme.org to Markdown which is an intermediary for texinfo (using pandoc).

==== org-readme-sync-emacswiki ====
Posts library to the emacswiki. Requires <tt>yaoddmuse</tt>

==== org-readme-sync-git ====
Posts library to git

==== org-readme-sync-marmalade ====
Posts library to marmalade-repo.org

==== org-readme-use-pandoc-markdown ====
Uses pandoc's grid tables instead of transferring the tables to html.

=== Internal Variables ===

==== org-readme-edit-mode-map ====
Keymap for editing change-logs.

Value: (keymap
(24 keymap
(19 . org-readme-edit-commit))
(3 keymap
(11 . org-readme-edit-cancel)
(3 . org-readme-edit-commit))
keymap
(27 keymap
(9 . ispell-complete-word)))


== History ==

* <b>07-Dec-2012 </b> --   Attempting to update description. (Matthew L. Fidler)
* <b>07-Dec-2012 </b> --   Test directory entry (Matthew L. Fidler)
* <b>07-Dec-2012 </b> --   Added directory entry to texinfo file. (Matthew L. Fidler)
* <b>18-Sep-2012 </b> --   Bug fix to allow changes that read (Matthew L. Fidler)
* <b>12-Sep-2012 </b> --   Handle errors with the package gracefully. to include the author name who updated the file.  (Matthew L. Fidler)
* <b>12-Sep-2012 </b> --   Handle errors with the package gracefully. (Matthew L. Fidler)
* <b>12-Sep-2012 </b> --   Bug fix to eliminate duplicate headers in Readme.org and emacswiki (Matthew L. Fidler)
* <b>12-Sep-2012 </b> --   Bug fix when org todo faces are not set. (Matthew L. Fidler)
* <b>12-Sep-2012 </b> --   Added bug fix when <tt>org-todo-keyword-faces</tt> is undefined. (Matthew L. Fidler)
* <b>22-Aug-2012 </b> --   Attempting to upload again (Matthew L. Fidler)
* <b>22-Aug-2012 </b> --   Now will remove variable name and functions from markdown and outputted texinfo. (Matthew L. Fidler)
* <b>21-Aug-2012 </b> --   Bug fix. When variables/functions are documented with an initial asterisk, change that asterisk to a bulleted item. (Matthew L. Fidler)
* <b>21-Aug-2012 </b> --   Another documentation update where I document how to change the comment and that org-readme may change the minor revision of the library. (Matthew L. Fidler)
* <b>21-Aug-2012 </b> --   Updated the documentation for org-readme. (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Bug fix for variables that don't really transport well to the documentation. (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Bump minor version for marmalade-repo.org (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Attempt to fix the History list  (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Added ability to customize which sections are added to the Readme.org (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Bug fix for creating function readme (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Will now remove the Functions and Variables sections before putting them in the commentary section. (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Attempt to remove Readme.md when not needed. (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Added ability to add function documentation and variable documentation to the Readme.org file (Matthew L. Fidler)
* <b>20-Aug-2012 </b> --   Added pandoc markdown table support (optional) (Matthew L. Fidler)
* <b>13-Aug-2012 </b> --   Another attempt to make texinfo documents. (Matthew L. Fidler)
* <b>13-Aug-2012 </b> --   Added texinfo output. Allows native emacs documentation. (Matthew L. Fidler)
* <b>13-Aug-2012 </b> --   Tried to post behind firewall. Reattempting. (Matthew L. Fidler)
* <b>13-Aug-2012 </b> --   Changed the <tt>org-readme-remove-section</tt> to use <tt>org-cut-subtree</tt>. Hopefully all errors will resolve themselves now. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Reverted. Still buggy. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Another attempt at bug fix to remove section. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Another attempt at a remove-section fix. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for org-readme version tagging. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Test the bug where some of the section text is deleted  (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Added more documentation (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   One last bug fix to the markdown export engine. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Markdown bug fix (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for el-get recipe. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Added the ability to create a markdown Readme (Readme.md) as well as adding a el-get recipe. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for emacswiki post and melpa bug fix (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for adding melpa recipes.  (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for creating melpa recipe. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Added ability to add melpa recipe (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for pushing tags to a git repository (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Another fix for git tags. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Found a bug, let see if tagging works now. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Added Git tagging of new versions. Lets see if it works. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Git push worked. Bumping minor version. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Attempted to push repository again. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Attempt to push with git. Something changed. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Added better Package-Requires tag. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Made request for minor revision earlier, and fixed bug. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Fixed code typo (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for deleting a section of a Readme.org file. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Testing bug. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Minor bug fix. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for comment sync, now Readme.org <tt>file</tt> is translated to lisp <tt>file</tt>. Additionally, asks for version bump. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix for syncing readme. Now the returns should not be as prevalent. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Attempting to post to marmlade again... (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Attempting to fix org-readme-marmalade-post. (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Bug fix to upload to emacswiki and upload to marmalade-repo (Matthew L. Fidler)
* <b>11-Aug-2012 </b> --   Added marmalade-repo support. Now org-readme should upload to marmalade-repo when the version is different from the latest version. (Matthew L. Fidler)
* <b>08-Aug-2012 </b> --   Fixed preformatting tags in emacswiki post. Previously they may have been replaced with <PRE></pre> instead of <pre></pre>. This makes the emacswiki page display correctly. (Matthew L. Fidler)
* <b>07-Aug-2012 </b> --   To use, put (require 'ess-smart-underscore) in your ~/.emacs file 7-Aug-2012 Matthew L. Fidler Last-Updated: Tue Aug 7 19:14:34 2012 (-0500) #331 (Matthew L. Fidler) Added a Comment to !EmcsWiki pages that states that the content of the page will likely be overwitten since it is automatically generated by <tt>org-readme</tt> 7-Aug-2012 Matthew L. Fidler Last-Updated: Mon Aug 6 23:42:02 2012 (-0500) #328 (Matthew L. Fidler) Added more documentation. (Matthew L. Fidler)
* <b>06-Aug-2012 </b> --   Added support for uploading Readme.org files to emacswiki without having to have a single associated lisp file. (Matthew L. Fidler)
* <b>06-Aug-2012 </b> --   Bug fix for syncing from the single lisp file. (Matthew L. Fidler)
* <b>06-Aug-2012 </b> --   Added the ability to call <tt>org-readme-sync</tt> from Readme.org (Matthew L. Fidler)
* <b>05-Aug-2012 </b> --   Added git pushing to org-readme (Matthew L. Fidler)
* <b>05-Aug-2012 </b> --   Added git support as well as a comment mode. The only thing that should need to be called is <tt>org-readme-sync</tt> (Matthew L. Fidler)
* <b>04-Aug-2012 </b> --   Added syncing with emacswiki.  (Matthew L. Fidler)
* <b>04-Aug-2012 </b> --   Initial Release  (Matthew L. Fidler)


This was generated with OrgReadme.  On updating the library, this page is likely to be replaced with updated content.
