This is an old version.  The latest version is at Lisp:loops.el and has
more features and optimizations.  This old version is preserved as it
might help newbies learn something about Lisp programming: Quick
prototypes that work, optimize later.

<pre>
;;; loops.el --- detect loops in lists

;; Copyright (C) 2002  Alex Schroeder

;; Author: Alex Schroeder <alex@gnu.org>
;; Maintainer: Alex Schroeder <alex@gnu.org>
;; Version: 1.0.0
;; Keywords: lisp
;; URL: http://www.emacswiki.org/cgi-bin/wiki.pl?LoopFind

;; This file is not part of GNU Emacs.

;; This is free software; you can redistribute it and/or modify it under
;; the terms of the GNU General Public License as published by the Free
;; Software Foundation; either version 2, or (at your option) any later
;; version.

;; This is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;; GNU General Public License for more details.

;; You should have received a copy of the GNU General Public License
;; along with GNU Emacs; see the file COPYING.  If not, write to the
;; Free Software Foundation, Inc., 59 Temple Place - Suite 330,
;; Boston, MA 02111-1307, USA.

;;; Commentary:

(require 'cl)

(defvar loop-min-repetitions 3)
(defvar loop-min-length 2)
(defvar loop-max-length 10)

(defun loop-find (lst)
  "Find a loop in LST.
There must be at least `loop-min-repetitions' repetitions,
and a loop must be at least `loop-min-length' elements long,
but no longer than `loop-max-length'.

Example: (loop-find '(1 2 3 1 2 3 1 2 3 4 5 6))
         => (1 2 3)"
  (let ((len loop-min-length) result)
    (while (and (< len loop-max-length)
                (not result))
      (let ((candidate (subseq lst 0 len)))
        (if (>= (loop-count lst candidate len) loop-min-repetitions)
            (setq result candidate)
          (setq len (1+ len)))))
    result))

(defun loop-count (lst candidate len)
  "Count how often LST contains CANDIDATE.
This counts the repetitions of CANDIDATE at the beginning
of LST."
  (let ((count 0))
    (while (and (>= (length lst) len)
                (not (mismatch lst candidate :end1 len)))
      (setq count (1+ count)
            lst (nthcdr len lst)))
    count))

;;; Test

(eval-when-compile
  (let ((test '(1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 6 7 8 9 0)))
    (assert (= 4 (loop-count test '(1 2 3 4 5) 5)))
    (loop-find test)))
</pre>

-----

This is great and all but how likely is it that a newbie stumbles over
this page?  Can we please remove this old version. -- JonasBernoulli

-----

The current version has a bug but the code is too complicated for me to debug.
I'm happy to have found the old code! -- AlexSchroeder

----

WhorBroargE http://www.christandcancer.org/bbpress/topic.php?id=145304&replies=1#post-182413  ,WhorBroargE http://finalfridaynetwork.com/profile.php?user=fgpoiplf5&v=comments&v=comments  ,WhorBroargE http://fourstateshomepage.com/component/blog/comments?pid=56502  ,WhorBroargE http://bbpress.labs.binaryturf.com/topic/louis-vuitton-handbags-318-200?replies=1#post-13882  ,WhorBroargE http://realtycaravan.com/activity/  . 
WhorBroargE http://news.braislaw.com/2012/02/brais-law-attorneys-represent-peruvian-seafarer-in-arbitration-against-carnival-cruise-line.html#comments  ,WhorBroargE http://fbtest.lacoua.com/venue/louis-vuitton-online-663-54 ,WhorBroargE http://mixer.abk-soft.com/blogs_full.php?id=1190014 ,WhorBroargE http://medicaldevicecomparison.com/forum/topic.php?id=129953&replies=1#post-134002 ,WhorBroargE http://www.dmcarclub.com/forums/viewtopic.php?f=14&t=2007693 ,WhorBroargE http://www.thinkimprovement.co.uk/cheap-louis-vuitton-918-975 ,WhorBroargE http://www.mlpvirginia.org/node/107852 ,WhorBroargE http://www.neu.alme-online.de/smf_1-1-1/index.php?topic=100453.msg103565#msg103565 ,WhorBroargE http://www.youyou28.com/forum.php?mod=viewthread&tid=22398 ,WhorBroargE http://intimecargo.co.ke/index.php?option=com_blog&view=blog ,WhorBroargE http://carmat.unice.fr/majewiki/index.php/User:Kytily56ow#louis_vuitton_handbags_145 ,WhorBroargE http://flplbbcom.s711.000pc.net/bbs/viewthread.php?tid=396170&extra=page%3D1&frombbs=1 ,WhorBroargE http://cellularforum.com/entry.php?27621-Louis-Vuitton-Handbags-711-662 ,WhorBroargE http://www.mdg-dev.oneworldonline.org/node/46486 ,WhorBroargE http://cn-yt.com/bbs/viewthread.php?tid=6444438&extra= ,WhorBroargE http://tour.gyxww.net/bbs/forum.php?mod=viewthread&tid=1297461 ,WhorBroargE http://formacion.elementalweb.net/activity/p/97096/ ,WhorBroargE http://www.jameslockman.com/jamesblog/2008/10/what-a-week-at-graph-expo-2008.html#comments ,WhorBroargE http://wrestlefestwiki.com/index.php?title=User:Rfvopdeoz#Louis_Vuitton_Handbags_1313_296 ,WhorBroargE http://buildingforbritain.info/blog1.php/2012/06/09/ ,WhorBroargE http://www.namibuta.net/blog-danna/archives/2011/09/2011-09-07on-tw.html#comments ,WhorBroargE http://deshratna.com/activity/p/197176/ ,WhorBroargE http://facecow.phicreatio.com/index.php?p=blogs/viewstory/300619 ,WhorBroargE http://www.cprogramminghelp.com/?p=31871 ,WhorBroargE http://pu.viel.co.ke/index.php?title=User:Dsghsvks#Louis_Vuitton_online_059_669 ,WhorBroargE http://www.moflirt.co.za/member/blog_post_view.php?postId=34505 ,WhorBroargE http://www.lmdk.cn/ucenter/bbs/viewthread.php?tid=422726&extra= ,WhorBroargE http://www.twvs.tnc.edu.tw/phpbb/viewtopic.php?f=2&t=173965 ,WhorBroargE http://www.najp.org/summit.old/node/215994 ,WhorBroargE http://inspidesign.com/home/node/306123 ,WhorBroargE http://188travel.net/thread-234879-1-1.html ,WhorBroargE http://bbs.qlpindao.com/home/space.php?uid=48016&do=blog&id=544188 ,WhorBroargE http://ucenter.googllers.com/home/space.php?uid=137295&do=blog&id=3157024 ,WhorBroargE http://www.gardensonline.com/?q=content/louis-vuitton-online-9809-118 .

-- [http://www.louisvuittonstorelocation.com/
 WhorBroargE] 2012-11-17 23:56 UTC

